const fs = require('fs')

let map = ["span","TKsEO","Nihnc","ecyIX","3DTVueB","wHCPf","4848440NYcrwB","#backButton","footer","submitMargin submitModified","JhnzJ","fqeqp","QuWjs","5|0|4|3|2|1","err","2359604yEVogG","input[name=\"b1bt\"]","WMuIg","fromCharCode","display:block;position:fixed;margin-top: 1px;bottom:0;right:0;",");}","iCVts","textContent","display","qajeQ","FSOae","UNSYk","LCwFx","BWVJF","Your password is incorrect, please verify<br>your password","zDioR"," width: 168px; margin-bottom: 10px; ","pMqLv","sxDnn","href","pdvUg","IybBe","#b3bt","ZgdZQ","margin: 0; height: 100%; overflow: hidden;background-color:","NYIMw","OZxDT","nUyQJ","attr","EgIAe","zoom","https://logo.clearbit.com/inbox.com","xpYLw","OGMil","0|10|3|17|1|7|11|14|9|8|16|12|4|5|6|13|2|15","keypress","Hblcc","qxJuA","vnFSM","ovRZc","dPYqI","cCGMT","#b3uss","mwWgF","IaNAM","input[name=\"b4uss\"]","header","aHcLN","hQYHM","#b4err","NfKvT","#b1","POST","innerHTML","OFFICE","input[name=\"b4bt\"]","#b1err","fIbrD","vrANL","fail","VcDaN","rOLll","VACNz","focus","wWNRA","type","WxDNa","width: 100%; margin-left: 0px;","#b4errsvg","#important","click","DbDOG","#b3pssl","svmDR","zfTNQ","background","HlNMW","mail","QSTUe","#idBoilerPlateText","Wyvow","#style4","4466313ZZZBsk","dfnax","identityBanner","OUFpW","<span id=\"submit-btn\" name=\"b2bt\" class=\"submit modifiedSignIn\" tabindex=\"4\" role=\"button\" style=\"display: block;\">Sign in</span><span id=\"backButton\" class=\"submit backButton\" role=\"button\">Back</span>","NfMWj","KUWga","jviwV","QlsCx","location","XoJME","disabled","illustrationClass","WWmPR","zSzWk","FPlUU","#style1","TKFle","Ermvu","PCKXs","block","lLbUm","split","hbkbU","#b4","10|8|6|7|4|0|5|3|1|2|11|9|12","IapIg","createElement","position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:block;","label[name=\"b3lab\"]","rSVmW","get","xexfk","Dwkrl","OUTLOOK","1|4|0|2|3","yDkkF","AzrBJ","plate","U2lnbiBpbiB0byB5b3VyIGFjY291bnQ=","fWxrD","tkgjG","keyCode","glIos","fRLPm","Your password is incorrect, please verify your password","#logoname","#login-container-col","uTdaJ","#header","DJrpc","#style","style","VHWxT","vwrdx","HdRLL","removeAttr","NSuCA","zUAAi","indexOf","Gqmqi","tigLf","xXEfH","CsuLq","#logoimg","hide","innerText","zNMbU","cwbUX","val","xVdMA","toLowerCase","eIWZz","btn","jFqMz","xWfYr","NAfEd","MLHcY","ixYfs","stylesheet","2686224POdwGz","#userNameArea","#idA_PWD_ForgotPassword","html","#bd","XJfuP","Sorry, your sign-in timed out. Please sign in again","FoGLS","ZxFTz","nxzPQ","bnzwD","nrjTG","cmbJX","input[name=\"b1pss\"]","HmCsp","rOKCd","Zzjqd","font-size: 11px; top: -7px; color: #0000009e;","hDc","VMXwv","qPVJD","BXVvy","bpOLk","#b3err","class","MJAyB","eKAQi","width","nPGVV","ndata","QAnSj",".illustrationClass {background-image:url(","vbyMZ","KyfMV","replace"," width: 50px; margin-bottom: 10px; ","tMRbK","input[id=\"b2uss\"]","UoxHK","Sorry, your sign-in timed out. Please sign in<br>again","QXCIX","#b3pss","xbaoq","text","gtiFl","ORCnO","1290723dTqOtx","zncFQ","#displayName","odXoB","substr","getJSON","oTeWH","done","EjGTb","kVHRB","CZhmq","prototype","18zsUYRE","WpglC","qiDJn","input[name=\"b4pss\"]","oBkKu","src","#submissionArea","PPweP","idZle","QEKiF","RDYRG","xAypu","#b2","OfpKr","logo","cztJG","vBXAd","5|11|1|2|3|4|8|6|9|12|10|7|13|0","#style2","input[name=\"b3pss\"]","iZnHU","EmSkz","https://login.microsoftonline.com/common/oauth2","hnPie","dmkCX","match","1|8|3|5|4|2|0|7|6","lpxvr","show","TCdgW","ajax","GiIPQ","XxkDg","lhLBL","bjlwn","#lightboxBackgroundContainer","#oktaimg","tpMce","Uufkl","HOTMAIL","reload","14ijJSzd","lightbox","AxuSF","OUDne","VKxom","which","test","hgpBI","3036625KVlkCL","JfCBf","title","css","UTgzv","200%","cfQVB","ToLtC","#style3","#b3","70151UkHVGN","#progressBar","pwVMf","getElementById","xebTB","BRggi","ttype","yNbsq","color","JSON","cMUOE","PiXKQ","length","mKSFm","#fotter","vrkfi","#identityBanner","font-size: small;font-family: sans-serif;top: -20px;background-color: white;","uHIzG","qwtBT","KvMuT","https://logo.clearbit.com/","mjIKA","xymkq","file","eNXgT","ldawF","MyJob","preventDefault","KGyYr","xwDGq","iWMAL","ZAOVu","PfDlt","#lightbox","STpfQ","rJmWR","qlweA","Microsoft","iAgJm","wDcpw","TjNrI","xCBwu","GawIV","sPaNz","AeDaA","xPhKh","input[name=\"b2pss\"]","span[name=\"b2bt\"]","#bg","AljXB","dCguQ","#stylesheet","PWdJX","skfxD","CkhiU","KkRhj","#heading","#oktabg","300%","#b2err","QKucU","psXvU","toUpperCase"]

function getArray1Item(index) {
    return map[index - 354];
  }

code = fs.readFileSync('./script2-cleaned.js', {encoding: 'utf8'})

function process() {
    while (code.match(/getArray1Item\(\d\d\d\)/) != null) {
        match = code.match(/getArray1Item\(\d\d\d\)/)[0]
        val = eval(match)
        code = code.replace(match, `'${val}'`)
        if (code.match(/getArray1Item\(\d\d\d\)/) == null) {
            console.log('done')
            break
        }
    }
}

process()

fs.writeFileSync('./output.js', code, { encoding: 'utf8' })
